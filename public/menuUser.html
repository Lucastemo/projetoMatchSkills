<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/menuUserStyle.css">
</head>
<body>
    <header>
        <div class="logo"><img src="/img/logopdr.png" alt="" ></div>
        <div class="busca">
            <button>Procurar vagas</button>
            <button>Buscar Empresas</button>
            <button>Buscar Usuários</button>
        </div>
        <div class="profile">
            <img src="https://marketplace.canva.com/gJly0/MAGDkMgJly0/1/tl/canva-user-profile-icon-vector.-avatar-or-person-icon.-profile-picture%2C-portrait-symbol.-MAGDkMgJly0.png" alt="">
            <button id="sair-btn">Sair</button>
        </div>
    </header>
    <main>
        <div class="buscarVagas">
            <h2>Olá, User!</h2>
            <p>Vamos Começar?</p>
            <button>Buscar vagas</button>
        </div>
        <div class="buscarEmpresas">
            <h3>Já tem uma empresa em mente?</h3>
            <input type="text" placeholder="Digite aqui o nome da empresa...">
            <br>
            <button>Bucar Empresas</button>
        </div>
    </main>
    <footer>
        <div class="logo"><img src="/img/logopdr.png" alt=""></div>
        <div class="menus">
            <button>Sobre nós</button>
            <button>Meu Perfil</button>
            <button>Inicio</button>
            <button>Voltar ao Topo</button>
        </div>

    </footer>
    <script>
        document.getElementById('sair-btn').addEventListener('click', async() => {
            try {
                const res = await fetch('/usuarios/logout', {
                    method: 'POST',
                    credentials: "include"
                });

                const data = await res.json();

                if(res.ok){
                    location.href = '/';
                }else{
                    alert(data.message || 'Erro ao fazer logout');
                }
                
            } catch (error) {
                console.error('Erro no logout: ', error);
                alert('Erro de comunicação com o servidor.');
            }
        })
    </script>
</body>
</html>